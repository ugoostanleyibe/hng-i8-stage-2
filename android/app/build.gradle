def localProperties = new Properties()
def keyProperties = new Properties()

localProperties.load(new FileInputStream(rootProject.file("local.properties")))
keyProperties.load(new FileInputStream(rootProject.file("key.properties")))

apply plugin: "com.android.application"
apply from: "${localProperties['flutter']}/packages/flutter_tools/gradle/flutter.gradle"

android {
	compileSdkVersion rootProject.ext.compileSdkVersion
	buildToolsVersion "30.0.1"
	ndkVersion "21.1.6352462"

	lintOptions {
		disable "InvalidPackage"
	}

	defaultConfig {
		targetSdkVersion rootProject.ext.targetSdkVersion
		testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
		versionCode localProperties["versionCode"].toInteger()
		versionName localProperties["versionName"]
		applicationId "dev.ugoostanleyibe.parrot"
		minSdkVersion 23
	}

	signingConfigs {
		release {
			storeFile file(keyProperties["storeFile"])
			storePassword keyProperties["storePassword"]
			keyPassword keyProperties["keyPassword"]
			keyAlias keyProperties["keyAlias"]
		}
	}

	buildTypes {
		release {
			signingConfig signingConfigs.release
			minifyEnabled true
		}
	}

	compileOptions {
		sourceCompatibility JavaVersion.VERSION_1_8
		targetCompatibility JavaVersion.VERSION_1_8
	}
}

flutter {
	source "../.."
}

dependencies {
	androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'
	androidTestImplementation 'androidx.test:runner:1.2.0'
	testImplementation 'junit:junit:4.12'
}